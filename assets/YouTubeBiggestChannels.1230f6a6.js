import{o as ee,i as De,l as Ie,a as re,b as Fe,c as _e,d as ke,g as Oe,S as mt,e as en,u as Mt,m as ie,f as oe,R as Bn,h as Gn,j as Ye,k as We,P as ze,A as Be,n as xn,p as Ge,q as xt,r as He,F as At,s as Lt,t as Xe,v as ae,w as qe,x as Qe,y as Ve,z as ue,B as Ze,C as Ue}from"./parseRemoteJson.d2e93512.js";import{A as ce,j as O,F as Q,a as v,k as Je,r as Ke,C as je,S as nr}from"./index.48276ea0.js";import{S as Hn,a as J,P as tr}from"./Paragraph.d8305db1.js";import{F as Xn}from"./Figure.a5a7c377.js";class an{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const u=r[i],s=t+u,f=Math.abs(t)<Math.abs(u)?t-(s-u):u-(s-t);f&&(r[e++]=f),t=s}return r[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let r=this._n,e,i,u,s=0;if(r>0){for(s=t[--r];r>0&&(e=s,i=t[--r],s=e+i,u=i-(s-e),!u););r>0&&(u<0&&t[r-1]<0||u>0&&t[r-1]>0)&&(i=u*2,e=s+i,i==e-s&&(s=e))}return s}}function*er(n){for(const t of n)yield*t}function se(n){return Array.from(er(n))}function on(n,t,r){n=+n,t=+t,r=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+r;for(var e=-1,i=Math.max(0,Math.ceil((t-n)/r))|0,u=new Array(i);++e<i;)u[e]=n+e*r;return u}var L=1e-6,rr=1e-12,R=Math.PI,H=R/2,Rt=R/4,q=R*2,nn=180/R,B=R/180,D=Math.abs,ir=Math.atan,Cn=Math.atan2,_=Math.cos,Rn=Math.ceil,k=Math.sin,or=Math.sign||function(n){return n>0?1:n<0?-1:0},cn=Math.sqrt;function ar(n){return n>1?0:n<-1?R:Math.acos(n)}function Pn(n){return n>1?H:n<-1?-H:Math.asin(n)}function X(){}function In(n,t){n&&$t.hasOwnProperty(n.type)&&$t[n.type](n,t)}var Tt={Feature:function(n,t){In(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)In(r[e].geometry,t)}},$t={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){rt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)rt(r[e],t,0)},Polygon:function(n,t){bt(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)bt(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)In(r[e],t)}};function rt(n,t,r){var e=-1,i=n.length-r,u;for(t.lineStart();++e<i;)u=n[e],t.point(u[0],u[1],u[2]);t.lineEnd()}function bt(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)rt(n[r],t,1);t.polygonEnd()}function ln(n,t){n&&Tt.hasOwnProperty(n.type)?Tt[n.type](n,t):In(n,t)}function it(n){return[Cn(n[1],n[0]),Pn(n[2])]}function hn(n){var t=n[0],r=n[1],e=_(r);return[e*_(t),e*k(t),k(r)]}function Tn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Fn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Vn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function $n(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function ot(n){var t=cn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function at(n,t){function r(e,i){return e=n(e,i),t(e[0],e[1])}return n.invert&&t.invert&&(r.invert=function(e,i){return e=t.invert(e,i),e&&n.invert(e[0],e[1])}),r}function ut(n,t){return[D(n)>R?n+Math.round(-n/q)*q:n,t]}ut.invert=ut;function ur(n,t,r){return(n%=q)?t||r?at(Dt(n),It(t,r)):Dt(n):t||r?It(t,r):ut}function Nt(n){return function(t,r){return t+=n,[t>R?t-q:t<-R?t+q:t,r]}}function Dt(n){var t=Nt(n);return t.invert=Nt(-n),t}function It(n,t){var r=_(n),e=k(n),i=_(t),u=k(t);function s(f,g){var l=_(g),a=_(f)*l,o=k(f)*l,c=k(g),h=c*r+a*e;return[Cn(o*i-h*u,a*r-c*e),Pn(h*i+o*u)]}return s.invert=function(f,g){var l=_(g),a=_(f)*l,o=k(f)*l,c=k(g),h=c*i-o*u;return[Cn(o*i+c*u,a*r+h*e),Pn(h*r-a*e)]},s}function cr(n,t,r,e,i,u){if(!!r){var s=_(t),f=k(t),g=e*r;i==null?(i=t+e*q,u=t-g/2):(i=Ft(s,i),u=Ft(s,u),(e>0?i<u:i>u)&&(i+=e*q));for(var l,a=i;e>0?a>u:a<u;a-=g)l=it([s,-f*_(a),-f*k(a)]),n.point(l[0],l[1])}}function Ft(n,t){t=hn(t),t[0]-=n,ot(t);var r=ar(-t[1]);return((-t[2]<0?-r:r)+q-L)%q}function le(){var n=[],t;return{point:function(r,e,i){t.push([r,e,i])},lineStart:function(){n.push(t=[])},lineEnd:X,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Dn(n,t){return D(n[0]-t[0])<L&&D(n[1]-t[1])<L}function bn(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function fe(n,t,r,e,i){var u=[],s=[],f,g;if(n.forEach(function(p){if(!((E=p.length-1)<=0)){var E,m=p[0],S=p[E],w;if(Dn(m,S)){if(!m[2]&&!S[2]){for(i.lineStart(),f=0;f<E;++f)i.point((m=p[f])[0],m[1]);i.lineEnd();return}S[0]+=2*L}u.push(w=new bn(m,p,null,!0)),s.push(w.o=new bn(m,null,w,!1)),u.push(w=new bn(S,p,null,!1)),s.push(w.o=new bn(S,null,w,!0))}}),!!u.length){for(s.sort(t),_t(u),_t(s),f=0,g=s.length;f<g;++f)s[f].e=r=!r;for(var l=u[0],a,o;;){for(var c=l,h=!0;c.v;)if((c=c.n)===l)return;a=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(h)for(f=0,g=a.length;f<g;++f)i.point((o=a[f])[0],o[1]);else e(c.x,c.n.x,1,i);c=c.n}else{if(h)for(a=c.p.z,f=a.length-1;f>=0;--f)i.point((o=a[f])[0],o[1]);else e(c.x,c.p.x,-1,i);c=c.p}c=c.o,a=c.z,h=!h}while(!c.v);i.lineEnd()}}}function _t(n){if(!!(t=n.length)){for(var t,r=0,e=n[0],i;++r<t;)e.n=i=n[r],i.p=e,e=i;e.n=i=n[0],i.p=e}}function Zn(n){return D(n[0])<=R?n[0]:or(n[0])*((D(n[0])+R)%q-R)}function sr(n,t){var r=Zn(t),e=t[1],i=k(e),u=[k(r),-_(r),0],s=0,f=0,g=new an;i===1?e=H+L:i===-1&&(e=-H-L);for(var l=0,a=n.length;l<a;++l)if(!!(c=(o=n[l]).length))for(var o,c,h=o[c-1],p=Zn(h),E=h[1]/2+Rt,m=k(E),S=_(E),w=0;w<c;++w,p=C,m=x,S=b,h=y){var y=o[w],C=Zn(y),M=y[1]/2+Rt,x=k(M),b=_(M),T=C-p,$=T>=0?1:-1,I=$*T,P=I>R,W=m*x;if(g.add(Cn(W*$*k(I),S*b+W*_(I))),s+=P?T+$*q:T,P^p>=r^C>=r){var F=Fn(hn(h),hn(y));ot(F);var N=Fn(u,F);ot(N);var d=(P^T>=0?-1:1)*Pn(N[2]);(e>d||e===d&&(F[0]||F[1]))&&(f+=P^T>=0?1:-1)}}return(s<-L||s<L&&g<-rr)^f&1}function he(n,t,r,e){return function(i){var u=t(i),s=le(),f=t(s),g=!1,l,a,o,c={point:h,lineStart:E,lineEnd:m,polygonStart:function(){c.point=S,c.lineStart=w,c.lineEnd=y,a=[],l=[]},polygonEnd:function(){c.point=h,c.lineStart=E,c.lineEnd=m,a=se(a);var C=sr(l,e);a.length?(g||(i.polygonStart(),g=!0),fe(a,fr,C,r,i)):C&&(g||(i.polygonStart(),g=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),g&&(i.polygonEnd(),g=!1),a=l=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(C,M){n(C,M)&&i.point(C,M)}function p(C,M){u.point(C,M)}function E(){c.point=p,u.lineStart()}function m(){c.point=h,u.lineEnd()}function S(C,M){o.push([C,M]),f.point(C,M)}function w(){f.lineStart(),o=[]}function y(){S(o[0][0],o[0][1]),f.lineEnd();var C=f.clean(),M=s.result(),x,b=M.length,T,$,I;if(o.pop(),l.push(o),o=null,!!b){if(C&1){if($=M[0],(T=$.length-1)>0){for(g||(i.polygonStart(),g=!0),i.lineStart(),x=0;x<T;++x)i.point((I=$[x])[0],I[1]);i.lineEnd()}return}b>1&&C&2&&M.push(M.pop().concat(M.shift())),a.push(M.filter(lr))}}return c}}function lr(n){return n.length>1}function fr(n,t){return((n=n.x)[0]<0?n[1]-H-L:H-n[1])-((t=t.x)[0]<0?t[1]-H-L:H-t[1])}var kt=he(function(){return!0},hr,pr,[-R,-H]);function hr(n){var t=NaN,r=NaN,e=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(u,s){var f=u>0?R:-R,g=D(u-t);D(g-R)<L?(n.point(t,r=(r+s)/2>0?H:-H),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(f,r),n.point(u,r),i=0):e!==f&&g>=R&&(D(t-e)<L&&(t-=e*L),D(u-f)<L&&(u-=f*L),r=gr(t,r,u,s),n.point(e,r),n.lineEnd(),n.lineStart(),n.point(f,r),i=0),n.point(t=u,r=s),e=f},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function gr(n,t,r,e){var i,u,s=k(n-r);return D(s)>L?ir((k(t)*(u=_(e))*k(r)-k(e)*(i=_(t))*k(n))/(i*u*s)):(t+e)/2}function pr(n,t,r,e){var i;if(n==null)i=r*H,e.point(-R,i),e.point(0,i),e.point(R,i),e.point(R,0),e.point(R,-i),e.point(0,-i),e.point(-R,-i),e.point(-R,0),e.point(-R,i);else if(D(n[0]-t[0])>L){var u=n[0]<t[0]?R:-R;i=r*u/2,e.point(-u,i),e.point(0,i),e.point(u,i)}else e.point(t[0],t[1])}function dr(n){var t=_(n),r=6*B,e=t>0,i=D(t)>L;function u(a,o,c,h){cr(h,n,r,c,a,o)}function s(a,o){return _(a)*_(o)>t}function f(a){var o,c,h,p,E;return{lineStart:function(){p=h=!1,E=1},point:function(m,S){var w=[m,S],y,C=s(m,S),M=e?C?0:l(m,S):C?l(m+(m<0?R:-R),S):0;if(!o&&(p=h=C)&&a.lineStart(),C!==h&&(y=g(o,w),(!y||Dn(o,y)||Dn(w,y))&&(w[2]=1)),C!==h)E=0,C?(a.lineStart(),y=g(w,o),a.point(y[0],y[1])):(y=g(o,w),a.point(y[0],y[1],2),a.lineEnd()),o=y;else if(i&&o&&e^C){var x;!(M&c)&&(x=g(w,o,!0))&&(E=0,e?(a.lineStart(),a.point(x[0][0],x[0][1]),a.point(x[1][0],x[1][1]),a.lineEnd()):(a.point(x[1][0],x[1][1]),a.lineEnd(),a.lineStart(),a.point(x[0][0],x[0][1],3)))}C&&(!o||!Dn(o,w))&&a.point(w[0],w[1]),o=w,h=C,c=M},lineEnd:function(){h&&a.lineEnd(),o=null},clean:function(){return E|(p&&h)<<1}}}function g(a,o,c){var h=hn(a),p=hn(o),E=[1,0,0],m=Fn(h,p),S=Tn(m,m),w=m[0],y=S-w*w;if(!y)return!c&&a;var C=t*S/y,M=-t*w/y,x=Fn(E,m),b=$n(E,C),T=$n(m,M);Vn(b,T);var $=x,I=Tn(b,$),P=Tn($,$),W=I*I-P*(Tn(b,b)-1);if(!(W<0)){var F=cn(W),N=$n($,(-I-F)/P);if(Vn(N,b),N=it(N),!c)return N;var d=a[0],A=o[0],Y=a[1],z=o[1],G;A<d&&(G=d,d=A,A=G);var vn=A-d,K=D(vn-R)<L,rn=K||vn<L;if(!K&&z<Y&&(G=Y,Y=z,z=G),rn?K?Y+z>0^N[1]<(D(N[0]-d)<L?Y:z):Y<=N[1]&&N[1]<=z:vn>R^(d<=N[0]&&N[0]<=A)){var j=$n($,(-I+F)/P);return Vn(j,b),[N,it(j)]}}}function l(a,o){var c=e?n:R-n,h=0;return a<-c?h|=1:a>c&&(h|=2),o<-c?h|=4:o>c&&(h|=8),h}return he(s,f,u,e?[0,-n]:[-R,n-R])}function vr(n,t,r,e,i,u){var s=n[0],f=n[1],g=t[0],l=t[1],a=0,o=1,c=g-s,h=l-f,p;if(p=r-s,!(!c&&p>0)){if(p/=c,c<0){if(p<a)return;p<o&&(o=p)}else if(c>0){if(p>o)return;p>a&&(a=p)}if(p=i-s,!(!c&&p<0)){if(p/=c,c<0){if(p>o)return;p>a&&(a=p)}else if(c>0){if(p<a)return;p<o&&(o=p)}if(p=e-f,!(!h&&p>0)){if(p/=h,h<0){if(p<a)return;p<o&&(o=p)}else if(h>0){if(p>o)return;p>a&&(a=p)}if(p=u-f,!(!h&&p<0)){if(p/=h,h<0){if(p>o)return;p>a&&(a=p)}else if(h>0){if(p<a)return;p<o&&(o=p)}return a>0&&(n[0]=s+a*c,n[1]=f+a*h),o<1&&(t[0]=s+o*c,t[1]=f+o*h),!0}}}}}var yn=1e9,Nn=-yn;function yr(n,t,r,e){function i(l,a){return n<=l&&l<=r&&t<=a&&a<=e}function u(l,a,o,c){var h=0,p=0;if(l==null||(h=s(l,o))!==(p=s(a,o))||g(l,a)<0^o>0)do c.point(h===0||h===3?n:r,h>1?e:t);while((h=(h+o+4)%4)!==p);else c.point(a[0],a[1])}function s(l,a){return D(l[0]-n)<L?a>0?0:3:D(l[0]-r)<L?a>0?2:1:D(l[1]-t)<L?a>0?1:0:a>0?3:2}function f(l,a){return g(l.x,a.x)}function g(l,a){var o=s(l,1),c=s(a,1);return o!==c?o-c:o===0?a[1]-l[1]:o===1?l[0]-a[0]:o===2?l[1]-a[1]:a[0]-l[0]}return function(l){var a=l,o=le(),c,h,p,E,m,S,w,y,C,M,x,b={point:T,lineStart:W,lineEnd:F,polygonStart:I,polygonEnd:P};function T(d,A){i(d,A)&&a.point(d,A)}function $(){for(var d=0,A=0,Y=h.length;A<Y;++A)for(var z=h[A],G=1,vn=z.length,K=z[0],rn,j,Ln=K[0],sn=K[1];G<vn;++G)rn=Ln,j=sn,K=z[G],Ln=K[0],sn=K[1],j<=e?sn>e&&(Ln-rn)*(e-j)>(sn-j)*(n-rn)&&++d:sn<=e&&(Ln-rn)*(e-j)<(sn-j)*(n-rn)&&--d;return d}function I(){a=o,c=[],h=[],x=!0}function P(){var d=$(),A=x&&d,Y=(c=se(c)).length;(A||Y)&&(l.polygonStart(),A&&(l.lineStart(),u(null,null,1,l),l.lineEnd()),Y&&fe(c,f,d,u,l),l.polygonEnd()),a=l,c=h=p=null}function W(){b.point=N,h&&h.push(p=[]),M=!0,C=!1,w=y=NaN}function F(){c&&(N(E,m),S&&C&&o.rejoin(),c.push(o.result())),b.point=T,C&&a.lineEnd()}function N(d,A){var Y=i(d,A);if(h&&p.push([d,A]),M)E=d,m=A,S=Y,M=!1,Y&&(a.lineStart(),a.point(d,A));else if(Y&&C)a.point(d,A);else{var z=[w=Math.max(Nn,Math.min(yn,w)),y=Math.max(Nn,Math.min(yn,y))],G=[d=Math.max(Nn,Math.min(yn,d)),A=Math.max(Nn,Math.min(yn,A))];vr(z,G,n,t,r,e)?(C||(a.lineStart(),a.point(z[0],z[1])),a.point(G[0],G[1]),Y||a.lineEnd(),x=!1):Y&&(a.lineStart(),a.point(d,A),x=!1)}w=d,y=A,C=Y}return b}}function Ot(n,t,r){var e=on(n,t-L,r).concat(t);return function(i){return e.map(function(u){return[i,u]})}}function Yt(n,t,r){var e=on(n,t-L,r).concat(t);return function(i){return e.map(function(u){return[u,i]})}}function mr(){var n,t,r,e,i,u,s,f,g=10,l=g,a=90,o=360,c,h,p,E,m=2.5;function S(){return{type:"MultiLineString",coordinates:w()}}function w(){return on(Rn(e/a)*a,r,a).map(p).concat(on(Rn(f/o)*o,s,o).map(E)).concat(on(Rn(t/g)*g,n,g).filter(function(y){return D(y%a)>L}).map(c)).concat(on(Rn(u/l)*l,i,l).filter(function(y){return D(y%o)>L}).map(h))}return S.lines=function(){return w().map(function(y){return{type:"LineString",coordinates:y}})},S.outline=function(){return{type:"Polygon",coordinates:[p(e).concat(E(s).slice(1),p(r).reverse().slice(1),E(f).reverse().slice(1))]}},S.extent=function(y){return arguments.length?S.extentMajor(y).extentMinor(y):S.extentMinor()},S.extentMajor=function(y){return arguments.length?(e=+y[0][0],r=+y[1][0],f=+y[0][1],s=+y[1][1],e>r&&(y=e,e=r,r=y),f>s&&(y=f,f=s,s=y),S.precision(m)):[[e,f],[r,s]]},S.extentMinor=function(y){return arguments.length?(t=+y[0][0],n=+y[1][0],u=+y[0][1],i=+y[1][1],t>n&&(y=t,t=n,n=y),u>i&&(y=u,u=i,i=y),S.precision(m)):[[t,u],[n,i]]},S.step=function(y){return arguments.length?S.stepMajor(y).stepMinor(y):S.stepMinor()},S.stepMajor=function(y){return arguments.length?(a=+y[0],o=+y[1],S):[a,o]},S.stepMinor=function(y){return arguments.length?(g=+y[0],l=+y[1],S):[g,l]},S.precision=function(y){return arguments.length?(m=+y,c=Ot(u,i,90),h=Yt(t,n,m),p=Ot(f,s,90),E=Yt(e,r,m),S):m},S.extentMajor([[-180,-90+L],[180,90-L]]).extentMinor([[-180,-80-L],[180,80+L]])}var ct=n=>n,Un=new an,st=new an,ge,pe,lt,ft,tn={point:X,lineStart:X,lineEnd:X,polygonStart:function(){tn.lineStart=Sr,tn.lineEnd=wr},polygonEnd:function(){tn.lineStart=tn.lineEnd=tn.point=X,Un.add(D(st)),st=new an},result:function(){var n=Un/2;return Un=new an,n}};function Sr(){tn.point=Er}function Er(n,t){tn.point=de,ge=lt=n,pe=ft=t}function de(n,t){st.add(ft*n-lt*t),lt=n,ft=t}function wr(){de(ge,pe)}var Wt=tn,gn=1/0,_n=gn,Mn=-gn,kn=Mn,Cr={point:Pr,lineStart:X,lineEnd:X,polygonStart:X,polygonEnd:X,result:function(){var n=[[gn,_n],[Mn,kn]];return Mn=kn=-(_n=gn=1/0),n}};function Pr(n,t){n<gn&&(gn=n),n>Mn&&(Mn=n),t<_n&&(_n=t),t>kn&&(kn=t)}var On=Cr,ht=0,gt=0,mn=0,Yn=0,Wn=0,fn=0,pt=0,dt=0,Sn=0,ve,ye,Z,U,V={point:un,lineStart:zt,lineEnd:Bt,polygonStart:function(){V.lineStart=Ar,V.lineEnd=Lr},polygonEnd:function(){V.point=un,V.lineStart=zt,V.lineEnd=Bt},result:function(){var n=Sn?[pt/Sn,dt/Sn]:fn?[Yn/fn,Wn/fn]:mn?[ht/mn,gt/mn]:[NaN,NaN];return ht=gt=mn=Yn=Wn=fn=pt=dt=Sn=0,n}};function un(n,t){ht+=n,gt+=t,++mn}function zt(){V.point=Mr}function Mr(n,t){V.point=xr,un(Z=n,U=t)}function xr(n,t){var r=n-Z,e=t-U,i=cn(r*r+e*e);Yn+=i*(Z+n)/2,Wn+=i*(U+t)/2,fn+=i,un(Z=n,U=t)}function Bt(){V.point=un}function Ar(){V.point=Rr}function Lr(){me(ve,ye)}function Rr(n,t){V.point=me,un(ve=Z=n,ye=U=t)}function me(n,t){var r=n-Z,e=t-U,i=cn(r*r+e*e);Yn+=i*(Z+n)/2,Wn+=i*(U+t)/2,fn+=i,i=U*n-Z*t,pt+=i*(Z+n),dt+=i*(U+t),Sn+=i*3,un(Z=n,U=t)}var Gt=V;function Se(n){this._context=n}Se.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,q);break}}},result:X};var vt=new an,Jn,Ee,we,En,wn,zn={point:X,lineStart:function(){zn.point=Tr},lineEnd:function(){Jn&&Ce(Ee,we),zn.point=X},polygonStart:function(){Jn=!0},polygonEnd:function(){Jn=null},result:function(){var n=+vt;return vt=new an,n}};function Tr(n,t){zn.point=Ce,Ee=En=n,we=wn=t}function Ce(n,t){En-=n,wn-=t,vt.add(cn(En*En+wn*wn)),En=n,wn=t}var Ht=zn;function Pe(){this._string=[]}Pe.prototype={_radius:4.5,_circle:Xt(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=Xt(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function Xt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function $r(n,t){var r=4.5,e,i;function u(s){return s&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),ln(s,e(i))),i.result()}return u.area=function(s){return ln(s,e(Wt)),Wt.result()},u.measure=function(s){return ln(s,e(Ht)),Ht.result()},u.bounds=function(s){return ln(s,e(On)),On.result()},u.centroid=function(s){return ln(s,e(Gt)),Gt.result()},u.projection=function(s){return arguments.length?(e=s==null?(n=null,ct):(n=s).stream,u):n},u.context=function(s){return arguments.length?(i=s==null?(t=null,new Pe):new Se(t=s),typeof r!="function"&&i.pointRadius(r),u):t},u.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(i.pointRadius(+s),+s),u):r},u.projection(n).context(t)}function St(n){return function(t){var r=new yt;for(var e in n)r[e]=n[e];return r.stream=t,r}}function yt(){}yt.prototype={constructor:yt,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Et(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),ln(r,n.stream(On)),t(On.result()),e!=null&&n.clipExtent(e),n}function Me(n,t,r){return Et(n,function(e){var i=t[1][0]-t[0][0],u=t[1][1]-t[0][1],s=Math.min(i/(e[1][0]-e[0][0]),u/(e[1][1]-e[0][1])),f=+t[0][0]+(i-s*(e[1][0]+e[0][0]))/2,g=+t[0][1]+(u-s*(e[1][1]+e[0][1]))/2;n.scale(150*s).translate([f,g])},r)}function br(n,t,r){return Me(n,[[0,0],t],r)}function Nr(n,t,r){return Et(n,function(e){var i=+t,u=i/(e[1][0]-e[0][0]),s=(i-u*(e[1][0]+e[0][0]))/2,f=-u*e[0][1];n.scale(150*u).translate([s,f])},r)}function Dr(n,t,r){return Et(n,function(e){var i=+t,u=i/(e[1][1]-e[0][1]),s=-u*e[0][0],f=(i-u*(e[1][1]+e[0][1]))/2;n.scale(150*u).translate([s,f])},r)}var qt=16,Ir=_(30*B);function Qt(n,t){return+t?_r(n,t):Fr(n)}function Fr(n){return St({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function _r(n,t){function r(e,i,u,s,f,g,l,a,o,c,h,p,E,m){var S=l-e,w=a-i,y=S*S+w*w;if(y>4*t&&E--){var C=s+c,M=f+h,x=g+p,b=cn(C*C+M*M+x*x),T=Pn(x/=b),$=D(D(x)-1)<L||D(u-o)<L?(u+o)/2:Cn(M,C),I=n($,T),P=I[0],W=I[1],F=P-e,N=W-i,d=w*F-S*N;(d*d/y>t||D((S*F+w*N)/y-.5)>.3||s*c+f*h+g*p<Ir)&&(r(e,i,u,s,f,g,P,W,$,C/=b,M/=b,x,E,m),m.point(P,W),r(P,W,$,C,M,x,l,a,o,c,h,p,E,m))}}return function(e){var i,u,s,f,g,l,a,o,c,h,p,E,m={point:S,lineStart:w,lineEnd:C,polygonStart:function(){e.polygonStart(),m.lineStart=M},polygonEnd:function(){e.polygonEnd(),m.lineStart=w}};function S(T,$){T=n(T,$),e.point(T[0],T[1])}function w(){o=NaN,m.point=y,e.lineStart()}function y(T,$){var I=hn([T,$]),P=n(T,$);r(o,c,a,h,p,E,o=P[0],c=P[1],a=T,h=I[0],p=I[1],E=I[2],qt,e),e.point(o,c)}function C(){m.point=S,e.lineEnd()}function M(){w(),m.point=x,m.lineEnd=b}function x(T,$){y(i=T,$),u=o,s=c,f=h,g=p,l=E,m.point=y}function b(){r(o,c,a,h,p,E,u,s,i,f,g,l,qt,e),m.lineEnd=C,C()}return m}}var kr=St({point:function(n,t){this.stream.point(n*B,t*B)}});function Or(n){return St({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}function Yr(n,t,r,e,i){function u(s,f){return s*=e,f*=i,[t+n*s,r-n*f]}return u.invert=function(s,f){return[(s-t)/n*e,(r-f)/n*i]},u}function Vt(n,t,r,e,i,u){if(!u)return Yr(n,t,r,e,i);var s=_(u),f=k(u),g=s*n,l=f*n,a=s/n,o=f/n,c=(f*r-s*t)/n,h=(f*t+s*r)/n;function p(E,m){return E*=e,m*=i,[g*E-l*m+t,r-l*E-g*m]}return p.invert=function(E,m){return[e*(a*E-o*m+c),i*(h-o*E-a*m)]},p}function Wr(n){return zr(function(){return n})()}function zr(n){var t,r=150,e=480,i=250,u=0,s=0,f=0,g=0,l=0,a,o=0,c=1,h=1,p=null,E=kt,m=null,S,w,y,C=ct,M=.5,x,b,T,$,I;function P(d){return T(d[0]*B,d[1]*B)}function W(d){return d=T.invert(d[0],d[1]),d&&[d[0]*nn,d[1]*nn]}P.stream=function(d){return $&&I===d?$:$=kr(Or(a)(E(x(C(I=d)))))},P.preclip=function(d){return arguments.length?(E=d,p=void 0,N()):E},P.postclip=function(d){return arguments.length?(C=d,m=S=w=y=null,N()):C},P.clipAngle=function(d){return arguments.length?(E=+d?dr(p=d*B):(p=null,kt),N()):p*nn},P.clipExtent=function(d){return arguments.length?(C=d==null?(m=S=w=y=null,ct):yr(m=+d[0][0],S=+d[0][1],w=+d[1][0],y=+d[1][1]),N()):m==null?null:[[m,S],[w,y]]},P.scale=function(d){return arguments.length?(r=+d,F()):r},P.translate=function(d){return arguments.length?(e=+d[0],i=+d[1],F()):[e,i]},P.center=function(d){return arguments.length?(u=d[0]%360*B,s=d[1]%360*B,F()):[u*nn,s*nn]},P.rotate=function(d){return arguments.length?(f=d[0]%360*B,g=d[1]%360*B,l=d.length>2?d[2]%360*B:0,F()):[f*nn,g*nn,l*nn]},P.angle=function(d){return arguments.length?(o=d%360*B,F()):o*nn},P.reflectX=function(d){return arguments.length?(c=d?-1:1,F()):c<0},P.reflectY=function(d){return arguments.length?(h=d?-1:1,F()):h<0},P.precision=function(d){return arguments.length?(x=Qt(b,M=d*d),N()):cn(M)},P.fitExtent=function(d,A){return Me(P,d,A)},P.fitSize=function(d,A){return br(P,d,A)},P.fitWidth=function(d,A){return Nr(P,d,A)},P.fitHeight=function(d,A){return Dr(P,d,A)};function F(){var d=Vt(r,0,0,c,h,o).apply(null,t(u,s)),A=Vt(r,e-d[0],i-d[1],c,h,o);return a=ur(f,g,l),b=at(t,A),T=at(a,b),x=Qt(b,M),N()}function N(){return $=I=null,P}return function(){return t=n.apply(this,arguments),P.invert=t.invert&&W,F()}}function xe(n,t){var r=t*t,e=r*r;return[n*(.8707-.131979*r+e*(-.013791+e*(.003971*r-.001529*e))),t*(1.007226+r*(.015085+e*(-.044475+.028874*r-.005916*e)))]}xe.invert=function(n,t){var r=t,e=25,i;do{var u=r*r,s=u*u;r-=i=(r*(1.007226+u*(.015085+s*(-.044475+.028874*u-.005916*s)))-t)/(1.007226+u*(.015085*3+s*(-.044475*7+.028874*9*u-.005916*11*s)))}while(D(i)>L&&--e>0);return[n/(.8707+(u=r*r)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),r]};function Br(){return Wr(xe).scale(175.295)}function wt(){var n=ee().unknown(void 0),t=n.domain,r=n.range,e=0,i=1,u,s,f=!1,g=0,l=0,a=.5;delete n.unknown;function o(){var c=t().length,h=i<e,p=h?i:e,E=h?e:i;u=(E-p)/Math.max(1,c-g+l*2),f&&(u=Math.floor(u)),p+=(E-p-u*(c-g))*a,s=u*(1-g),f&&(p=Math.round(p),s=Math.round(s));var m=on(c).map(function(S){return p+u*S});return r(h?m.reverse():m)}return n.domain=function(c){return arguments.length?(t(c),o()):t()},n.range=function(c){return arguments.length?([e,i]=c,e=+e,i=+i,o()):[e,i]},n.rangeRound=function(c){return[e,i]=c,e=+e,i=+i,f=!0,o()},n.bandwidth=function(){return s},n.step=function(){return u},n.round=function(c){return arguments.length?(f=!!c,o()):f},n.padding=function(c){return arguments.length?(g=Math.min(1,l=+c),o()):g},n.paddingInner=function(c){return arguments.length?(g=Math.min(1,c),o()):g},n.paddingOuter=function(c){return arguments.length?(l=+c,o()):l},n.align=function(c){return arguments.length?(a=Math.max(0,Math.min(1,c)),o()):a},n.copy=function(){return wt(t(),[e,i]).round(f).paddingInner(g).paddingOuter(l).align(a)},De.apply(o(),arguments)}function Gr(){var n=0,t=1,r,e,i,u,s=re,f=!1,g;function l(o){return o==null||isNaN(o=+o)?g:s(i===0?.5:(o=(u(o)-r)*i,f?Math.max(0,Math.min(1,o)):o))}l.domain=function(o){return arguments.length?([n,t]=o,r=u(n=+n),e=u(t=+t),i=r===e?0:1/(e-r),l):[n,t]},l.clamp=function(o){return arguments.length?(f=!!o,l):f},l.interpolator=function(o){return arguments.length?(s=o,l):s};function a(o){return function(c){var h,p;return arguments.length?([h,p]=c,s=o(h,p),l):[s(0),s(1)]}}return l.range=a(ke),l.rangeRound=a(_e),l.unknown=function(o){return arguments.length?(g=o,l):g},function(o){return u=o,r=o(n),e=o(t),i=r===e?0:1/(e-r),l}}function Hr(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Ae(){var n=Ie(Gr()(re));return n.copy=function(){return Hr(n,Ae())},Fe.apply(n,arguments)}const Xr="george-mix/56530e2512823ccb72d526a7c4103b31/raw/biggestYouTubeChannels.csv",qn=()=>{const{data:n,isLoading:t,isError:r}=ce(["youtubeData"],()=>Oe(Xr),{staleTime:1/0,cacheTime:432e5,select(e){return e.map(u=>({channelName:u.Channel,contentCategory:u["Content category"],country:u.Country,primaryLanguage:u["Primary language(s)"],subscribers:Math.round(+u["Subscribers (millions)"])}))}});return[n||[],t,r]},qr=24,Qr=84,Vr=({xScale:n,width:t,height:r})=>O(Q,{children:[n.ticks().map(e=>O("g",{transform:`translate(${n(e)},0)`,children:[v(mt,{y2:r,lineStroke:{color:"primary",alpha:.15}}),v(en,{y:r+qr,style:{textAnchor:"middle"},children:e})]},e)),v(en,{x:t/2,y:r+Qr,textAnchor:"middle",fontSize:24,children:"Subscribers (mln)"})]}),Zr=({yScale:n})=>{const t=r=>{const e=n(r);return e===void 0?0:e+n.bandwidth()/2};return v(Q,{children:n.domain().map(r=>v("g",{transform:`translate(0,${t(r)})`,children:v(en,{dy:6,dx:8,style:{textAnchor:"start"},fontSize:16,textFill:{color:"background"},children:r})},r))})},Le=({rectFill:n=!0,rectStroke:t=!1,...r})=>{const e=Mt(n,"primary"),i=Mt(t,"secondary");return v("rect",{fill:e,stroke:i,...r})},Ur=({topTenChannels:n,yScale:t,xScale:r})=>v(Q,{children:n.map(e=>v(Le,{y:t(e.channelName),width:r(e.subscribers),height:t.bandwidth()},e.channelName))}),Re=960,Te=560,pn={top:24,right:24,bottom:96,left:24},Zt=Te-pn.top-pn.bottom,Ut=Re-pn.right-pn.left,Jr=({data:n})=>{const t=n.slice(0,10),r=f=>f.channelName,i=ie(t,f=>f.subscribers)||0,u=wt().domain(t.map(r)).range([0,Zt]).paddingInner(.2),s=oe().domain([0,i]).range([0,Ut]);return O(Bn,{width:Re,height:Te,translateWidth:pn.left,translateHeight:pn.top,children:[v(Vr,{xScale:s,width:Ut,height:Zt}),v(Ur,{topTenChannels:t,xScale:s,yScale:u}),v(Zr,{yScale:u})]})},Kr=()=>{const[n,t,r]=qn();return v(Gn,{isLoading:t,isError:r,children:v(Jr,{data:n})})},jr=()=>O(Q,{children:[v(Hn,{text:"youtube-channels.top-ten-channels.subheader"}),v(Xn,{caption:"youtube-channels.top-ten-channels.caption",children:v(Kr,{})}),v(J,{text:"youtube-channels.top-ten-channels.first-paragraph"}),v(J,{text:"youtube-channels.top-ten-channels.second-paragraph"})]}),ni=({arc:n,createAnnotationArc:t,children:r,...e})=>v(en,{transform:Ye(t,n),textAnchor:We(n.startAngle,n.endAngle),...e,children:r}),ti=({arc:n,createArc:t,createAnnotationArc:r,colors:e,index:i,arcOptions:u,showPolyline:s=!0,polylineOptions:f,showAnnotation:g=!0,annotation:l,annotationOptions:a,children:o})=>O("g",{children:[v(ze,{arc:n,createArc:t,colors:e,index:i,...u}),s&&v(Be,{arc:n,createArc:t,createAnnotationArc:r||t,...f}),g&&v(ni,{arc:n,createAnnotationArc:r||t,...a,children:l}),o]}),Ct=600,Pt=500,ei=Ct/Pt,An=Math.min(Ct,Pt)/2,ri=An*ei,ii=An,oi=An*.6,ai=An*.7,Jt=An*.8,ui=({languageData:n,getText:t})=>{const r=xn("schemeOne"),e=ee(r),i=Ge().value(l=>l.quantity).sort(null),u=xt().innerRadius(oi).outerRadius(ai),s=xt().innerRadius(Jt).outerRadius(Jt),f=l=>t(l),g=i(n);return v(Bn,{width:Ct,translateWidth:ri,height:Pt,translateHeight:ii,children:g.map((l,a)=>v(ti,{arc:l,createArc:u,createAnnotationArc:s,index:a,colors:e,annotation:f(l.data)},l.data.language))})},ci=({infoType:n,switchQuantitySource:t})=>{const{t:r}=Je();return O(He,{row:!0,value:n,onChange:t,children:[v(At,{value:"channels",control:v(Lt,{}),label:r("youtube-channels.languages.controller-number")}),v(At,{value:"subscribers",control:v(Lt,{}),label:r("youtube-channels.languages.controller-percentage")})]})},si=(n,t)=>n/t*100,li=(n,t,r=2)=>`${si(n,t).toFixed(r)}%`,fi=n=>{const[t,r]=Ke.exports.useState("channels"),e=()=>{r(t==="subscribers"?"channels":"subscribers")},i=()=>Xe(n,o=>qe(o,c=>c.subscribers),o=>o.primaryLanguage).map(o=>({language:o[0],quantity:o[1]})),u=()=>ae(n,o=>o.length,o=>o.primaryLanguage).map(([o,c])=>({language:o,quantity:c})),s=a=>o=>{const c=li(o.quantity,a);return`${o.language} (${c})`},f=a=>`${a.language} (${a.quantity})`;return{...(a=>{if(a==="subscribers"){const c=i().reduce((p,E)=>p+E.quantity,0),h=s(c);return{languageData:i(),getText:h}}return{languageData:u(),getText:f}})(t),switchQuantitySource:e,infoType:t}},hi=()=>{const[n,t,r]=qn(),{languageData:e,getText:i,switchQuantitySource:u,infoType:s}=fi(n);return O(Gn,{isLoading:t,isError:r,children:[v(ui,{languageData:e,getText:i}),v(ci,{infoType:s,switchQuantitySource:u})]})},gi=()=>O(Q,{children:[v(Hn,{text:"youtube-channels.languages.subheader"}),v(Xn,{caption:"youtube-channels.languages.caption",children:v(hi,{})}),v(J,{text:"youtube-channels.languages.first-paragraph"}),v(J,{text:"youtube-channels.languages.second-paragraph"}),v(J,{text:"youtube-channels.languages.third-paragraph"})]});function pi(n){return n}function di(n){if(n==null)return pi;var t,r,e=n.scale[0],i=n.scale[1],u=n.translate[0],s=n.translate[1];return function(f,g){g||(t=r=0);var l=2,a=f.length,o=new Array(a);for(o[0]=(t+=f[0])*e+u,o[1]=(r+=f[1])*i+s;l<a;)o[l]=f[l],++l;return o}}function vi(n,t){for(var r,e=n.length,i=e-t;i<--e;)r=n[i],n[i++]=n[e],n[e]=r}function yi(n,t){return t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return Kt(n,r)})}:Kt(n,t)}function Kt(n,t){var r=t.id,e=t.bbox,i=t.properties==null?{}:t.properties,u=$e(n,t);return r==null&&e==null?{type:"Feature",properties:i,geometry:u}:e==null?{type:"Feature",id:r,properties:i,geometry:u}:{type:"Feature",id:r,bbox:e,properties:i,geometry:u}}function $e(n,t){var r=di(n.transform),e=n.arcs;function i(a,o){o.length&&o.pop();for(var c=e[a<0?~a:a],h=0,p=c.length;h<p;++h)o.push(r(c[h],h));a<0&&vi(o,p)}function u(a){return r(a)}function s(a){for(var o=[],c=0,h=a.length;c<h;++c)i(a[c],o);return o.length<2&&o.push(o[0]),o}function f(a){for(var o=s(a);o.length<4;)o.push(o[0]);return o}function g(a){return a.map(f)}function l(a){var o=a.type,c;switch(o){case"GeometryCollection":return{type:o,geometries:a.geometries.map(l)};case"Point":c=u(a.coordinates);break;case"MultiPoint":c=a.coordinates.map(u);break;case"LineString":c=s(a.arcs);break;case"MultiLineString":c=a.arcs.map(s);break;case"Polygon":c=g(a.arcs);break;case"MultiPolygon":c=a.arcs.map(g);break;default:return null}return{type:o,coordinates:c}}return l(t)}function mi(n,t){var r={},e={},i={},u=[],s=-1;t.forEach(function(l,a){var o=n.arcs[l<0?~l:l],c;o.length<3&&!o[1][0]&&!o[1][1]&&(c=t[++s],t[s]=l,t[a]=c)}),t.forEach(function(l){var a=f(l),o=a[0],c=a[1],h,p;if(h=i[o])if(delete i[h.end],h.push(l),h.end=c,p=e[c]){delete e[p.start];var E=p===h?h:h.concat(p);e[E.start=h.start]=i[E.end=p.end]=E}else e[h.start]=i[h.end]=h;else if(h=e[c])if(delete e[h.start],h.unshift(l),h.start=o,p=i[o]){delete i[p.end];var m=p===h?h:p.concat(h);e[m.start=p.start]=i[m.end=h.end]=m}else e[h.start]=i[h.end]=h;else h=[l],e[h.start=o]=i[h.end=c]=h});function f(l){var a=n.arcs[l<0?~l:l],o=a[0],c;return n.transform?(c=[0,0],a.forEach(function(h){c[0]+=h[0],c[1]+=h[1]})):c=a[a.length-1],l<0?[c,o]:[o,c]}function g(l,a){for(var o in l){var c=l[o];delete a[c.start],delete c.start,delete c.end,c.forEach(function(h){r[h<0?~h:h]=1}),u.push(c)}}return g(i,e),g(e,i),t.forEach(function(l){r[l<0?~l:l]||u.push([l])}),u}function Si(n){return $e(n,Ei.apply(this,arguments))}function Ei(n,t,r){var e,i,u;if(arguments.length>1)e=wi(n,t,r);else for(i=0,e=new Array(u=n.arcs.length);i<u;++i)e[i]=i;return{type:"MultiLineString",arcs:mi(n,e)}}function wi(n,t,r){var e=[],i=[],u;function s(o){var c=o<0?~o:o;(i[c]||(i[c]=[])).push({i:o,g:u})}function f(o){o.forEach(s)}function g(o){o.forEach(f)}function l(o){o.forEach(g)}function a(o){switch(u=o,o.type){case"GeometryCollection":o.geometries.forEach(a);break;case"LineString":f(o.arcs);break;case"MultiLineString":case"Polygon":g(o.arcs);break;case"MultiPolygon":l(o.arcs);break}}return a(t),i.forEach(r==null?function(o){e.push(o[0].i)}:function(o){r(o[0].g,o[o.length-1].g)&&e.push(o[0].i)}),e}const Ci="https://unpkg.com/",Pi=async n=>{const t=je(Ci,n);return Qe(t)},Mi="world-atlas@2.0.2/countries-110m.json",xi=()=>{const{data:n,isLoading:t,isError:r}=ce(["worldAtlas"],()=>Pi(Mi),{staleTime:1/0,cacheTime:432e5,select(e){const{countries:i}=e.objects;return{countries:yi(e,i),interiors:Si(e,i,(s,f)=>s!==f)}}});return[n,t,r]},Qn=({path:n,pathArgument:t,pathProps:r})=>{var e;return v(Ve,{d:(e=n(t))!=null?e:void 0,...r})},Ai=({path:n,pathArgument:t,pathProps:r})=>{const{neutral:e}=xn("svgChartPalette");return v(Qn,{path:n,pathArgument:t,pathProps:{fill:"none",stroke:e,...r}})},Li=({path:n,pathArgument:t,pathProps:r})=>{const{neutral:e}=xn("svgChartPalette");return v(Qn,{path:n,pathArgument:t,pathProps:{fill:e,...r}})},Ri=({path:n,pathArgument:t,pathProps:r})=>v(Qn,{path:n,pathArgument:t,pathProps:{fill:"none",pathStroke:{alpha:.05},...r}}),Ti=({path:n,pathArgument:t,pathProps:r})=>v(Qn,{path:n,pathArgument:t,pathProps:{pathFill:{color:"background"},...r}}),$i=({worldAtlas:{countries:n,interiors:t},projection:r,data:e,colorScale:i,colorValue:u,options:s})=>{const f=$r(r),l=mr()(),a=n,o={showBackground:!0,showGraticule:!0,showCountries:!0,showBorders:!0},{showBackground:c,showGraticule:h,showCountries:p,showBorders:E}={...o,...s};return O(Q,{children:[c&&v(Ti,{path:f,pathArgument:{type:"Sphere"}}),h&&v(Ri,{path:f,pathArgument:l}),p&&a.features.map(m=>{var w,y;const S=e.get((w=m==null?void 0:m.properties)==null?void 0:w.name);return v(Li,{path:f,pathArgument:m,pathProps:S&&{fill:i(u(S))}},(y=m==null?void 0:m.properties)==null?void 0:y.name)}),E&&v(Ai,{path:f,pathArgument:t})]})},bi=18,Ni=6,Di=14,Kn=({translateWidth:n,translateHeight:t,color:r,text:e})=>O("g",{transform:`translate(${n}, ${t})`,children:[v(ue,{fill:r}),O(en,{fontSize:bi,y:Ni,x:Di,children:["- ",e]})]}),jt=160,Ii=280,jn=-40,nt=20,tt=2,Fi=({colorRange:n,height:t})=>{const{neutral:r}=xn("svgChartPalette"),e=n[0],i=n[1];return O("g",{transform:`translate(${tt}, ${t-tt})`,children:[v(Le,{y:-jt,width:Ii,height:jt,rectFill:{color:"background",alpha:.7},rectStroke:{color:"primary",alpha:.3},strokeWidth:tt}),v(Kn,{translateWidth:nt,translateHeight:3*jn,color:e,text:"lowest number of channels"}),v(Kn,{translateWidth:nt,translateHeight:2*jn,color:i,text:"highest number of channels"}),v(Kn,{translateWidth:nt,translateHeight:jn,color:r,text:"no data"})]})},_i=960,ne=500,ki=Br(),Oi=({data:n,worldAtlas:t})=>{const r=xn("interpolationGreen"),e=Ze(n,g=>g.country),i=[...e].reduce((g,[,l])=>g>l.length?g:l.length,0),u=[...e].reduce((g,[,l])=>g<l.length?g:l.length,0),s=g=>g.length,f=Ae(r).domain([u,i]);return O(Bn,{width:_i,height:ne,children:[v("g",{children:v($i,{worldAtlas:t,projection:ki,data:e,colorScale:f,colorValue:s,options:{showBackground:!1}})}),v(Fi,{colorRange:r,height:ne})]})},Yi=()=>{const[n,t,r]=qn(),[e,i,u]=xi();return v(Gn,{isLoading:t||i,isError:r||u||!e,children:e&&v(Oi,{data:n,worldAtlas:e})})},Wi=()=>O(Q,{children:[v(Hn,{text:"youtube-channels.countries.subheader"}),v(Xn,{caption:"youtube-channels.countries.caption",children:v(Yi,{})}),v(J,{text:"youtube-channels.countries.first-paragraph"})]}),zi=({xScale:n,innerHeight:t})=>{const r=i=>{const u=n(i);return u===void 0?0:u+n.bandwidth()/2},e=t+30;return v(Q,{children:n.domain().map(i=>v(en,{transform:`translate(${r(i)},${e}), rotate(45)`,children:i},i))})},Bi=-10,Gi=5,Hi=({yScale:n,innerWidth:t})=>v(Q,{children:n.ticks(5).map(r=>O("g",{transform:`translate(0, ${n(r)})`,children:[v(mt,{x2:t,lineStroke:{alpha:.3,color:"info"}}),v(en,{dx:Bi,dy:Gi,textAnchor:"end",children:r})]},r))}),Xi=70,qi=-16,Qi=({xScale:n,yScale:t,categories:r,innerHeight:e,xValue:i,yValue:u})=>{const s=g=>{const l=n(i(g));return l===void 0?0:l+Xi},f=g=>t(u(g));return v(Q,{children:r.map(g=>{const l=s(g),a=f(g);return O("g",{children:[v(mt,{x1:l,x2:l,y1:e,y2:a,lineStroke:{color:"secondary"}}),v(ue,{cx:l,cy:a,circleFill:{color:"secondary"}}),v(en,{dy:qi,textAnchor:"middle",transform:`translate(${l},${a})`,textFill:{color:"accentOne"},children:g.quantity})]},g.contentCategory)})})},be=960,Ne=600,dn={top:40,right:60,bottom:130,left:60},te=be-dn.right-dn.left,et=Ne-dn.top-dn.bottom,Vi=dn.left,Zi=dn.top,Ui=({data:n})=>{const t=ae(n,f=>f.length,f=>f.contentCategory).map(([f,g])=>({contentCategory:f,quantity:g})),r=f=>f.contentCategory,e=f=>f.quantity,i=ie(t,e)||0,u=wt().domain(t.map(r)).range([0,te]).paddingInner(.15),s=oe().domain([0,i]).range([et,0]).nice(5);return O(Bn,{width:be,height:Ne,translateWidth:Vi,translateHeight:Zi,children:[v(zi,{xScale:u,innerHeight:et}),v(Hi,{yScale:s,innerWidth:te}),v(Qi,{xScale:u,yScale:s,xValue:r,yValue:e,categories:t,innerHeight:et})]})},Ji=()=>{const[n,t,r]=qn();return v(Gn,{isLoading:t,isError:r,children:v(Ui,{data:n})})},Ki=()=>O(Q,{children:[v(Hn,{text:"youtube-channels.content-categories.subheader"}),v(Xn,{caption:"youtube-channels.content-categories.caption",children:v(Ji,{})}),v(J,{text:"youtube-channels.content-categories.first-paragraph"}),v(J,{text:"youtube-channels.content-categories.second-paragraph"})]}),ro=()=>O(Q,{children:[v(tr,{headline:"youtube-channels.title"}),v(J,{text:"youtube-channels.introduction"}),v(J,{text:"youtube-channels.about-source"}),v(Ue,{link:nr.YouTubeChannels}),v(jr,{}),v(gi,{}),v(Ki,{}),v(Wi,{})]});export{ro as default};
