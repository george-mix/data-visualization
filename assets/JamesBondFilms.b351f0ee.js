import{S as it,a as Z,P as Wt}from"./Paragraph.80e91814.js";import{g as st,b as ct,s as lt,E as Nt,I as ge,c as ee,M as fe,r as d,u as at,_ as ut,d as ft,a as h,e as Ee,A as dt,F as z,j as L,X as Ae,Y as pt,T as ye,B as Vt,k as mt,C as zt,S as Ht}from"./index.766a5b23.js";import{D as Ut,E as ne,G as Gt,H as je,g as Xt,S as ht,e as oe,z as Qt,y as Yt,m as qt,f as De,R as gt,h as xt,x as Kt,A as Jt,t as Zt,w as en,B as tn,P as nn,n as on,o as rn,p as sn,I as cn,q as Ie,r as ln,F as We,s as Ne,C as an}from"./parseRemoteJson.2157f12d.js";import{F as vt}from"./Figure.a4f33114.js";function un(e){return st("MuiToggleButton",e)}const fn=ct("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]);var Ve=fn;const dn=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],pn=e=>{const{classes:t,fullWidth:n,selected:o,disabled:r,size:i,color:s}=e,c={root:["root",o&&"selected",r&&"disabled",n&&"fullWidth",`size${ge(i)}`,s]};return ft(c,un,t)},mn=lt(Nt,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${ge(n.size)}`]]}})(({theme:e,ownerState:t})=>{const n=t.color==="standard"?e.palette.text.primary:e.palette[t.color].main;return ee({},e.typography.button,{borderRadius:e.shape.borderRadius,padding:11,border:`1px solid ${e.palette.divider}`,color:e.palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${Ve.disabled}`]:{color:e.palette.action.disabled,border:`1px solid ${e.palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:fe(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ve.selected}`]:{color:n,backgroundColor:fe(n,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:fe(n,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:fe(n,e.palette.action.selectedOpacity)}}}},t.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},t.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),hn=d.exports.forwardRef(function(t,n){const o=at({props:t,name:"MuiToggleButton"}),{children:r,className:i,color:s="standard",disabled:c=!1,disableFocusRipple:l=!1,fullWidth:a=!1,onChange:u,onClick:m,selected:f,size:x="medium",value:p}=o,y=ut(o,dn),v=ee({},o,{color:s,disabled:c,disableFocusRipple:l,fullWidth:a,size:x}),_=pn(v),R=b=>{m&&(m(b,p),b.defaultPrevented)||u&&u(b,p)};return h(mn,ee({className:Ee(_.root,i),disabled:c,focusRipple:!l,ref:n,onClick:R,onChange:u,value:p,ownerState:v,"aria-pressed":f},y,{children:r}))});var gn=hn;function xn(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}function vn(e){return st("MuiToggleButtonGroup",e)}const yn=ct("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]);var I=yn;const bn=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],_n=e=>{const{classes:t,orientation:n,fullWidth:o,disabled:r}=e,i={root:["root",n==="vertical"&&"vertical",o&&"fullWidth"],grouped:["grouped",`grouped${ge(n)}`,r&&"disabled"]};return ft(i,vn,t)},wn=lt("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${I.grouped}`]:t.grouped},{[`& .${I.grouped}`]:t[`grouped${ge(n.orientation)}`]},t.root,n.orientation==="vertical"&&t.vertical,n.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>ee({display:"inline-flex",borderRadius:t.shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${I.grouped}`]:ee({},e.orientation==="horizontal"?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${I.selected} + .${I.grouped}.${I.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${I.selected} + .${I.grouped}.${I.selected}`]:{borderTop:0,marginTop:0}})})),Rn=d.exports.forwardRef(function(t,n){const o=at({props:t,name:"MuiToggleButtonGroup"}),{children:r,className:i,color:s="standard",disabled:c=!1,exclusive:l=!1,fullWidth:a=!1,onChange:u,orientation:m="horizontal",size:f="medium",value:x}=o,p=ut(o,bn),y=ee({},o,{disabled:c,fullWidth:a,orientation:m,size:f}),v=_n(y),_=(b,g)=>{if(!u)return;const T=x&&x.indexOf(g);let E;x&&T>=0?(E=x.slice(),E.splice(T,1)):E=x?x.concat(g):[g],u(b,E)},R=(b,g)=>{!u||u(b,x===g?null:g)};return h(wn,ee({role:"group",className:Ee(v.root,i),ref:n,ownerState:y},p,{children:d.exports.Children.map(r,b=>d.exports.isValidElement(b)?d.exports.cloneElement(b,{className:Ee(v.grouped,b.props.className),onChange:l?R:_,selected:b.props.selected===void 0?xn(b.props.value,x):b.props.selected,size:b.props.size||f,fullWidth:a,color:b.props.color||s,disabled:b.props.disabled||c}):null)}))});var Tn=Rn;function Cn(e,t){let n,o;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=o=r):(n>r&&(n=r),o<r&&(o=r)));else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n===void 0?i>=i&&(n=o=i):(n>i&&(n=i),o<i&&(o=i)))}return[n,o]}function yt(e){this._context=e}yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function En(e){return new yt(e)}function An(e){return e[0]}function On(e){return e[1]}function Ln(e,t){var n=ne(!0),o=null,r=En,i=null;e=typeof e=="function"?e:e===void 0?An:ne(e),t=typeof t=="function"?t:t===void 0?On:ne(t);function s(c){var l,a=(c=Ut(c)).length,u,m=!1,f;for(o==null&&(i=r(f=Gt())),l=0;l<=a;++l)!(l<a&&n(u=c[l],l,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(u,l,c),+t(u,l,c));if(f)return i=null,f+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:ne(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:ne(+c),s):t},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ne(!!c),s):n},s.curve=function(c){return arguments.length?(r=c,o!=null&&(i=r(o)),s):r},s.context=function(c){return arguments.length?(c==null?o=i=null:i=r(o=c),s):o},s}function ze(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function bt(e,t){this._context=e,this._k=(1-t)/6}bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ze(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ze(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};function Pn(e,t,n){var o=e._x1,r=e._y1,i=e._x2,s=e._y2;if(e._l01_a>je){var c=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);o=(o*c-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*c-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>je){var a=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*a+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*a+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(o,r,i,s,e._x2,e._y2)}function _t(e,t){this._context=e,this._alpha=t}_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,o=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Pn(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var kn=function e(t){function n(o){return t?new _t(o,t):new bt(o,0)}return n.alpha=function(o){return e(+o)},n}(.5);const Sn="george-mix/886288117d320dec5477ea6f5282c7c8/raw/jamesBondFilms.csv",wt=()=>{const{data:e,isLoading:t,isError:n}=dt(["jamesBondData"],()=>Xt(Sn),{staleTime:1/0,cacheTime:432e5,select(o){return o.map(i=>({director:i.Director,title:i.Title,year:+i.Year,bondActor:i["Bond actor"],boxOfficeActual:+i["Box office (Actual $)"],boxOfficeAdjusted:+i["Box office (Adjusted $2005)"],budgetActual:+i["Budget (Actual $)"],budgetAdjusted:+i["Budget (Adjusted $2005)"]}))}});return[e||[],t,n]},Bn=24,Mn=({xScale:e,innerHeight:t})=>h(z,{children:e.ticks().map(n=>L("g",{transform:`translate(${e(n)},0)`,children:[h(ht,{y2:t,lineStroke:{alpha:.05}}),h(oe,{style:{textAnchor:"middle"},y:t+Bn,children:n})]},n))}),$n=-16,Fn=5,jn="Million USD",Dn=-64,In=({yScale:e,innerWidth:t,innerHeight:n})=>L(z,{children:[e.ticks().map(o=>L("g",{transform:`translate(0,${e(o)})`,children:[h(ht,{x2:t,lineStroke:{alpha:.05}}),h(oe,{style:{textAnchor:"end"},x:$n,dy:Fn,children:o})]},o)),h(oe,{textAnchor:"middle",transform:`translate(${Dn},${n/2}) rotate(-90)`,children:jn})]});function le(e){return e.split("-")[0]}function Pe(e){return e.split("-")[1]}function xe(e){return["top","bottom"].includes(le(e))?"x":"y"}function Rt(e){return e==="y"?"height":"width"}function He(e,t,n){let{reference:o,floating:r}=e;const i=o.x+o.width/2-r.width/2,s=o.y+o.height/2-r.height/2,c=xe(t),l=Rt(c),a=o[l]/2-r[l]/2,u=le(t),m=c==="x";let f;switch(u){case"top":f={x:i,y:o.y-r.height};break;case"bottom":f={x:i,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:s};break;case"left":f={x:o.x-r.width,y:s};break;default:f={x:o.x,y:o.y}}switch(Pe(t)){case"start":f[c]-=a*(n&&m?-1:1);break;case"end":f[c]+=a*(n&&m?-1:1);break}return f}const Wn=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:a,y:u}=He(l,o,c),m=o,f={},x=0;for(let p=0;p<i.length;p++){const{name:y,fn:v}=i[p],{x:_,y:R,data:b,reset:g}=await v({x:a,y:u,initialPlacement:o,placement:m,strategy:r,middlewareData:f,rects:l,platform:s,elements:{reference:e,floating:t}});if(a=_!=null?_:a,u=R!=null?R:u,f={...f,[y]:{...f[y],...b}},g&&x<=50){x++,typeof g=="object"&&(g.placement&&(m=g.placement),g.rects&&(l=g.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):g.rects),{x:a,y:u}=He(l,m,c)),p=-1;continue}}return{x:a,y:u,placement:m,strategy:r,middlewareData:f}};function Nn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vn(e){return typeof e!="number"?Nn(e):{top:e,right:e,bottom:e,left:e}}function de(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Tt(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:s,elements:c,strategy:l}=e,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:f=!1,padding:x=0}=t,p=Vn(x),v=c[f?m==="floating"?"reference":"floating":m],_=de(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:u,strategy:l})),R=de(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:m==="floating"?{...s.floating,x:o,y:r}:s.reference,offsetParent:await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),strategy:l}):s[m]);return{top:_.top-R.top+p.top,bottom:R.bottom-_.bottom+p.bottom,left:_.left-R.left+p.left,right:R.right-_.right+p.right}}const zn=Math.min,Hn=Math.max;function Ue(e,t,n){return Hn(e,zn(t,n))}const Un={left:"right",right:"left",bottom:"top",top:"bottom"};function pe(e){return e.replace(/left|right|bottom|top/g,t=>Un[t])}function Gn(e,t,n){n===void 0&&(n=!1);const o=Pe(e),r=xe(e),i=Rt(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=pe(s)),{main:s,cross:pe(s)}}const Xn={start:"end",end:"start"};function Ge(e){return e.replace(/start|end/g,t=>Xn[t])}function Qn(e){const t=pe(e);return[Ge(e),t,Ge(t)]}const Yn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:o,middlewareData:r,rects:i,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:a=!0,crossAxis:u=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",flipAlignment:x=!0,...p}=e,y=le(o),_=m||(y===s||!x?[pe(s)]:Qn(s)),R=[s,..._],b=await Tt(t,p),g=[];let T=((n=r.flip)==null?void 0:n.overflows)||[];if(a&&g.push(b[y]),u){const{main:O,cross:P}=Gn(o,i,await(c.isRTL==null?void 0:c.isRTL(l.floating)));g.push(b[O],b[P])}if(T=[...T,{placement:o,overflows:g}],!g.every(O=>O<=0)){var E,A;const O=((E=(A=r.flip)==null?void 0:A.index)!=null?E:0)+1,P=R[O];if(P)return{data:{index:O,overflows:T},reset:{placement:P}};let k="bottom";switch(f){case"bestFit":{var B;const S=(B=T.map(w=>[w,w.overflows.filter(C=>C>0).reduce((C,M)=>C+M,0)]).sort((w,C)=>w[1]-C[1])[0])==null?void 0:B[0].placement;S&&(k=S);break}case"initialPlacement":k=s;break}if(o!==k)return{reset:{placement:k}}}return{}}}};async function qn(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=le(n),c=Pe(n),l=xe(n)==="x",a=["left","top"].includes(s)?-1:1,u=i&&l?-1:1,m=typeof t=="function"?t(e):t;let{mainAxis:f,crossAxis:x,alignmentAxis:p}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return c&&typeof p=="number"&&(x=c==="end"?p*-1:p),l?{x:x*u,y:f*a}:{x:f*a,y:x*u}}const Kn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:o}=t,r=await qn(t,e);return{x:n+r.x,y:o+r.y,data:r}}}};function Jn(e){return e==="x"?"y":"x"}const Zn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:v=>{let{x:_,y:R}=v;return{x:_,y:R}}},...l}=e,a={x:n,y:o},u=await Tt(t,l),m=xe(le(r)),f=Jn(m);let x=a[m],p=a[f];if(i){const v=m==="y"?"top":"left",_=m==="y"?"bottom":"right",R=x+u[v],b=x-u[_];x=Ue(R,x,b)}if(s){const v=f==="y"?"top":"left",_=f==="y"?"bottom":"right",R=p+u[v],b=p-u[_];p=Ue(R,p,b)}const y=c.fn({...t,[m]:x,[f]:p});return{...y,data:{x:y.x-n,y:y.y-o}}}}};function Ct(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function H(e){if(e==null)return window;if(!Ct(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function X(e){return H(e).getComputedStyle(e)}function Q(e){return Ct(e)?"":e?(e.nodeName||"").toLowerCase():""}function Et(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function F(e){return e instanceof H(e).HTMLElement}function j(e){return e instanceof H(e).Element}function eo(e){return e instanceof H(e).Node}function ce(e){if(typeof ShadowRoot=="undefined")return!1;const t=H(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ae(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=X(e);return/auto|scroll|overlay|hidden/.test(t+o+n)&&!["inline","contents"].includes(r)}function to(e){return["table","td","th"].includes(Q(e))}function At(e){const t=/firefox/i.test(Et()),n=X(e);return n.transform!=="none"||n.perspective!=="none"||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(o=>n.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const r=n.contain;return r!=null?r.includes(o):!1})}function Ot(){return!/^((?!chrome|android).)*safari/i.test(Et())}function ke(e){return["html","body","#document"].includes(Q(e))}const Xe=Math.min,se=Math.max,me=Math.round;function V(e,t,n){var o,r,i,s;t===void 0&&(t=!1),n===void 0&&(n=!1);const c=e.getBoundingClientRect();let l=1,a=1;t&&F(e)&&(l=e.offsetWidth>0&&me(c.width)/e.offsetWidth||1,a=e.offsetHeight>0&&me(c.height)/e.offsetHeight||1);const u=j(e)?H(e):window,m=!Ot()&&n,f=(c.left+(m&&(o=(r=u.visualViewport)==null?void 0:r.offsetLeft)!=null?o:0))/l,x=(c.top+(m&&(i=(s=u.visualViewport)==null?void 0:s.offsetTop)!=null?i:0))/a,p=c.width/l,y=c.height/a;return{width:p,height:y,top:x,right:f+p,bottom:x+y,left:f,x:f,y:x}}function Y(e){return((eo(e)?e.ownerDocument:e.document)||window.document).documentElement}function ve(e){return j(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Lt(e){return V(Y(e)).left+ve(e).scrollLeft}function no(e){const t=V(e);return me(t.width)!==e.offsetWidth||me(t.height)!==e.offsetHeight}function oo(e,t,n){const o=F(t),r=Y(t),i=V(e,o&&no(t),n==="fixed");let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(o||!o&&n!=="fixed")if((Q(t)!=="body"||ae(r))&&(s=ve(t)),F(t)){const l=V(t,!0);c.x=l.x+t.clientLeft,c.y=l.y+t.clientTop}else r&&(c.x=Lt(r));return{x:i.left+s.scrollLeft-c.x,y:i.top+s.scrollTop-c.y,width:i.width,height:i.height}}function Se(e){return Q(e)==="html"?e:e.assignedSlot||e.parentNode||(ce(e)?e.host:null)||Y(e)}function Qe(e){return!F(e)||X(e).position==="fixed"?null:e.offsetParent}function ro(e){let t=Se(e);for(ce(t)&&(t=t.host);F(t)&&!ke(t);){if(At(t))return t;{const n=t.parentNode;t=ce(n)?n.host:n}}return null}function Oe(e){const t=H(e);let n=Qe(e);for(;n&&to(n)&&X(n).position==="static";)n=Qe(n);return n&&(Q(n)==="html"||Q(n)==="body"&&X(n).position==="static"&&!At(n))?t:n||ro(e)||t}function Ye(e){if(F(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=V(e);return{width:t.width,height:t.height}}function io(e){let{rect:t,offsetParent:n,strategy:o}=e;const r=F(n),i=Y(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((r||!r&&o!=="fixed")&&((Q(n)!=="body"||ae(i))&&(s=ve(n)),F(n))){const l=V(n,!0);c.x=l.x+n.clientLeft,c.y=l.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+c.x,y:t.y-s.scrollTop+c.y}}function so(e,t){const n=H(e),o=Y(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,c=0,l=0;if(r){i=r.width,s=r.height;const a=Ot();(a||!a&&t==="fixed")&&(c=r.offsetLeft,l=r.offsetTop)}return{width:i,height:s,x:c,y:l}}function co(e){var t;const n=Y(e),o=ve(e),r=(t=e.ownerDocument)==null?void 0:t.body,i=se(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=se(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let c=-o.scrollLeft+Lt(e);const l=-o.scrollTop;return X(r||n).direction==="rtl"&&(c+=se(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:s,x:c,y:l}}function Pt(e){const t=Se(e);return ke(t)?e.ownerDocument.body:F(t)&&ae(t)?t:Pt(t)}function G(e,t){var n;t===void 0&&(t=[]);const o=Pt(e),r=o===((n=e.ownerDocument)==null?void 0:n.body),i=H(o),s=r?[i].concat(i.visualViewport||[],ae(o)?o:[]):o,c=t.concat(s);return r?c:c.concat(G(s))}function lo(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&ce(n)){let o=t;do{if(o&&e===o)return!0;o=o.parentNode||o.host}while(o)}return!1}function ao(e,t){let n=e;for(;n&&!ke(n)&&!t.includes(n)&&!(j(n)&&["absolute","fixed"].includes(X(n).position));){const o=Se(n);n=ce(o)?o.host:o}return n}function uo(e,t){const n=V(e,!1,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft;return{top:o,left:r,x:r,y:o,right:r+e.clientWidth,bottom:o+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function qe(e,t,n){return t==="viewport"?de(so(e,n)):j(t)?uo(t,n):de(co(Y(e)))}function fo(e){const t=G(e),n=ao(e,t);let o=null;if(n&&F(n)){const r=Oe(n);ae(n)?o=n:F(r)&&(o=r)}return j(o)?t.filter(r=>o&&j(r)&&lo(r,o)&&Q(r)!=="body"):[]}function po(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const s=[...n==="clippingAncestors"?fo(t):[].concat(n),o],c=s[0],l=s.reduce((a,u)=>{const m=qe(t,u,r);return a.top=se(m.top,a.top),a.right=Xe(m.right,a.right),a.bottom=Xe(m.bottom,a.bottom),a.left=se(m.left,a.left),a},qe(t,c,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}const mo={getClippingRect:po,convertOffsetParentRelativeRectToViewportRelativeRect:io,isElement:j,getDimensions:Ye,getOffsetParent:Oe,getDocumentElement:Y,getElementRects:e=>{let{reference:t,floating:n,strategy:o}=e;return{reference:oo(t,Oe(n),o),floating:{...Ye(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>X(e).direction==="rtl"};function ho(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=!0,animationFrame:c=!1}=o,l=r&&!c,a=l||i?[...j(e)?G(e):e.contextElement?G(e.contextElement):[],...G(t)]:[];a.forEach(p=>{l&&p.addEventListener("scroll",n,{passive:!0}),i&&p.addEventListener("resize",n)});let u=null;if(s){let p=!0;u=new ResizeObserver(()=>{p||n(),p=!1}),j(e)&&!c&&u.observe(e),!j(e)&&e.contextElement&&!c&&u.observe(e.contextElement),u.observe(t)}let m,f=c?V(e):null;c&&x();function x(){const p=V(e);f&&(p.x!==f.x||p.y!==f.y||p.width!==f.width||p.height!==f.height)&&n(),f=p,m=requestAnimationFrame(x)}return n(),()=>{var p;a.forEach(y=>{l&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),(p=u)==null||p.disconnect(),u=null,c&&cancelAnimationFrame(m)}}const go=(e,t,n)=>Wn(e,t,{platform:mo,...n});var Le=typeof document!="undefined"?d.exports.useLayoutEffect:d.exports.useEffect;function he(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(o=n;o--!==0;)if(!he(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!he(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function xo(e){const t=d.exports.useRef(e);return Le(()=>{t.current=e}),t}function vo(e){let{middleware:t,placement:n="bottom",strategy:o="absolute",whileElementsMounted:r}=e===void 0?{}:e;const[i,s]=d.exports.useState({x:null,y:null,strategy:o,placement:n,middlewareData:{}}),[c,l]=d.exports.useState(t);he(c==null?void 0:c.map(g=>{let{name:T,options:E}=g;return{name:T,options:E}}),t==null?void 0:t.map(g=>{let{name:T,options:E}=g;return{name:T,options:E}}))||l(t);const a=d.exports.useRef(null),u=d.exports.useRef(null),m=d.exports.useRef(null),f=d.exports.useRef(i),x=xo(r),p=d.exports.useCallback(()=>{!a.current||!u.current||go(a.current,u.current,{middleware:c,placement:n,strategy:o}).then(g=>{y.current&&!he(f.current,g)&&(f.current=g,Ae.exports.flushSync(()=>{s(g)}))})},[c,n,o]);Le(()=>{y.current&&p()},[p]);const y=d.exports.useRef(!1);Le(()=>(y.current=!0,()=>{y.current=!1}),[]);const v=d.exports.useCallback(()=>{if(typeof m.current=="function"&&(m.current(),m.current=null),a.current&&u.current)if(x.current){const g=x.current(a.current,u.current,p);m.current=g}else p()},[p,x]),_=d.exports.useCallback(g=>{a.current=g,v()},[v]),R=d.exports.useCallback(g=>{u.current=g,v()},[v]),b=d.exports.useMemo(()=>({reference:a,floating:u}),[]);return d.exports.useMemo(()=>({...i,update:p,refs:b,reference:_,floating:R}),[i,p,b,_,R])}var te=typeof document!="undefined"?d.exports.useLayoutEffect:d.exports.useEffect;function yo(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(o=>o!==n))}}}let be=!1,bo=0;const Ke=()=>"floating-ui-"+bo++;function _o(){const[e,t]=d.exports.useState(()=>be?Ke():void 0);return te(()=>{e==null&&t(Ke())},[]),d.exports.useEffect(()=>{be||(be=!0)},[]),e}const Je=pt["useId".toString()],Ze=Je!=null?Je:_o,wo=d.exports.createContext(null),Ro=d.exports.createContext(null),kt=()=>{var e,t;return(e=(t=d.exports.useContext(wo))==null?void 0:t.id)!=null?e:null},Be=()=>d.exports.useContext(Ro);function K(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function To(e){var t;return(t=K(e).defaultView)!=null?t:window}function J(e){return e?e instanceof To(e).Element:!1}const et=pt["useInsertionEffect".toString()];function Co(e){const t=d.exports.useRef(()=>{});return et?et(()=>{t.current=e}):t.current=e,d.exports.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}function Eo(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:o,placement:r,middleware:i,strategy:s,nodeId:c}=e===void 0?{}:e;const[l,a]=d.exports.useState(null),u=Be(),m=d.exports.useRef(null),f=d.exports.useRef({}),x=d.exports.useState(()=>yo())[0],p=vo({placement:r,middleware:i,strategy:s,whileElementsMounted:o}),y=Co(n),v=d.exports.useMemo(()=>({...p.refs,domReference:m}),[p.refs]),_=d.exports.useMemo(()=>({...p,refs:v,dataRef:f,nodeId:c,events:x,open:t,onOpenChange:y,_:{domReference:l}}),[p,c,x,t,y,v,l]);te(()=>{const g=u==null?void 0:u.nodesRef.current.find(T=>T.id===c);g&&(g.context=_)});const{reference:R}=p,b=d.exports.useCallback(g=>{(J(g)||g===null)&&(_.refs.domReference.current=g,a(g)),R(g)},[R,_.refs]);return d.exports.useMemo(()=>({...p,context:_,refs:v,reference:b}),[p,v,_,b])}function _e(e,t,n){const o=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(r=>r?r[n]:null).concat(e).reduce((r,i)=>(i&&Object.entries(i).forEach(s=>{let[c,l]=s;if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof l=="function"){var a;(a=o.get(c))==null||a.push(l),r[c]=function(){for(var u,m=arguments.length,f=new Array(m),x=0;x<m;x++)f[x]=arguments[x];(u=o.get(c))==null||u.forEach(p=>p(...f))}}}else r[c]=l}),r),{})}}const Ao=function(e){e===void 0&&(e=[]);const t=e,n=d.exports.useCallback(i=>_e(i,e,"reference"),t),o=d.exports.useCallback(i=>_e(i,e,"floating"),t),r=d.exports.useCallback(i=>_e(i,e,"item"),t);return d.exports.useMemo(()=>({getReferenceProps:n,getFloatingProps:o,getItemProps:r}),[n,o,r])};function we(e,t){var n;let o=(n=e.filter(s=>{var c;return s.parentId===t&&((c=s.context)==null?void 0:c.open)}))!=null?n:[],r=o;for(;r.length;){var i;r=(i=e.filter(s=>{var c;return(c=r)==null?void 0:c.some(l=>{var a;return s.parentId===l.id&&((a=s.context)==null?void 0:a.open)})}))!=null?i:[],o=o.concat(r)}return o}const St="floating-ui-root",Oo=function(e){let{id:t=St,enabled:n=!0}=e===void 0?{}:e;const[o,r]=d.exports.useState(null);return te(()=>{if(!n)return;const i=document.getElementById(t);if(i)r(i);else{const s=document.createElement("div");s.id=t,r(s),document.body.contains(s)||document.body.appendChild(s)}},[t,n]),o},Lo=e=>{let{children:t,id:n=St,root:o=null}=e;const r=Oo({id:n,enabled:!o});return o?Ae.exports.createPortal(t,o):r?Ae.exports.createPortal(t,r):null};function Po(e){return"composedPath"in e?e.composedPath()[0]:e.target}function tt(e){const t=d.exports.useRef(e);return te(()=>{t.current=e}),t}function ko(e){const t=d.exports.useRef();return te(()=>{t.current=e},[e]),t.current}function Re(e,t,n){return n&&n!=="mouse"?0:typeof e=="number"?e:e==null?void 0:e[t]}const So=function(e,t){let{enabled:n=!0,delay:o=0,handleClose:r=null,mouseOnly:i=!1,restMs:s=0,move:c=!0}=t===void 0?{}:t;const{open:l,onOpenChange:a,dataRef:u,events:m,refs:f,_:x}=e,p=Be(),y=kt(),v=tt(r),_=tt(o),R=ko(l),b=d.exports.useRef(),g=d.exports.useRef(),T=d.exports.useRef(),E=d.exports.useRef(),A=d.exports.useRef(!0),B=d.exports.useRef(!1),O=d.exports.useCallback(()=>{var w;const C=(w=u.current.openEvent)==null?void 0:w.type;return(C==null?void 0:C.includes("mouse"))&&C!=="mousedown"},[u]);d.exports.useEffect(()=>{if(!n)return;function w(){clearTimeout(g.current),clearTimeout(E.current),A.current=!0}return m.on("dismiss",w),()=>{m.off("dismiss",w)}},[n,m,f]),d.exports.useEffect(()=>{if(!n||!v.current)return;function w(){O()&&a(!1)}const C=K(f.floating.current).documentElement;return C.addEventListener("mouseleave",w),()=>{C.removeEventListener("mouseleave",w)}},[f,a,n,v,u,O]);const P=d.exports.useCallback(function(w){w===void 0&&(w=!0);const C=Re(_.current,"close",b.current);C&&!T.current?(clearTimeout(g.current),g.current=setTimeout(()=>a(!1),C)):w&&(clearTimeout(g.current),a(!1))},[_,a]),k=d.exports.useCallback(()=>{T.current&&(K(f.floating.current).removeEventListener("pointermove",T.current),T.current=void 0)},[f]),S=d.exports.useCallback(()=>{K(f.floating.current).body.style.pointerEvents="",B.current=!1},[f]);return d.exports.useEffect(()=>{if(!n)return;function w(){return u.current.openEvent?["click","mousedown"].includes(u.current.openEvent.type):!1}function C(U){if(clearTimeout(g.current),A.current=!1,i&&b.current!=="mouse"||s>0&&Re(_.current,"open")===0)return;u.current.openEvent=U;const ie=Re(_.current,"open",b.current);ie?g.current=setTimeout(()=>{a(!0)},ie):a(!0)}function M(U){if(w())return;const ie=K(f.floating.current);if(clearTimeout(E.current),v.current){clearTimeout(g.current),T.current&&ie.removeEventListener("pointermove",T.current),T.current=v.current({...e,tree:p,x:U.clientX,y:U.clientY,onClose(){S(),k(),P()}}),ie.addEventListener("pointermove",T.current);return}P()}function D(U){w()||v.current==null||v.current({...e,tree:p,x:U.clientX,y:U.clientY,leave:!0,onClose(){S(),k(),P()}})(U)}const q=f.floating.current,$=f.domReference.current;if(J($))return l&&$.addEventListener("mouseleave",D),q==null||q.addEventListener("mouseleave",D),c&&$.addEventListener("mousemove",C,{once:!0}),$.addEventListener("mouseenter",C),$.addEventListener("mouseleave",M),()=>{l&&$.removeEventListener("mouseleave",D),q==null||q.removeEventListener("mouseleave",D),c&&$.removeEventListener("mousemove",C),$.removeEventListener("mouseenter",C),$.removeEventListener("mouseleave",M)}},[x.domReference,n,e,i,s,c,P,k,S,a,l,p,f,_,v,u]),te(()=>{if(!!n&&l&&v.current&&v.current.__options.blockPointerEvents&&O()){K(f.floating.current).body.style.pointerEvents="none",B.current=!0;const M=f.domReference.current,D=f.floating.current;if(J(M)&&D){var w,C;const q=p==null||(w=p.nodesRef.current.find($=>$.id===y))==null||(C=w.context)==null?void 0:C.refs.floating.current;return q&&(q.style.pointerEvents=""),M.style.pointerEvents="auto",D.style.pointerEvents="auto",()=>{M.style.pointerEvents="",D.style.pointerEvents=""}}}},[n,l,y,f,p,v,u,O]),te(()=>{R&&!l&&(b.current=void 0,k(),S())}),d.exports.useEffect(()=>()=>{k(),clearTimeout(g.current),clearTimeout(E.current),B.current&&S()},[n,k,S]),d.exports.useMemo(()=>{if(!n)return{};function w(C){b.current=C.pointerType}return{reference:{onPointerDown:w,onPointerEnter:w,onMouseMove(){l||s===0||(clearTimeout(E.current),E.current=setTimeout(()=>{A.current||a(!0)},s))}},floating:{onMouseEnter(){clearTimeout(g.current)},onMouseLeave(){P(!1)}}}},[n,s,l,a,P])},Bo=function(e,t){let{open:n}=e,{enabled:o=!0,role:r="dialog"}=t===void 0?{}:t;const i=Ze(),s=Ze();return d.exports.useMemo(()=>{const c={id:i,role:r};return o?r==="tooltip"?{reference:{"aria-describedby":n?i:void 0},floating:c}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":r==="alertdialog"?"dialog":r,"aria-controls":n?i:void 0,...r==="listbox"&&{role:"combobox"},...r==="menu"&&{id:s}},floating:{...c,...r==="menu"&&{"aria-labelledby":s}}}:{}},[o,r,n,i,s])};function Te(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Mo={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},$o={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Fo=function(e,t){let{open:n,onOpenChange:o,refs:r,events:i,nodeId:s}=e,{enabled:c=!0,escapeKey:l=!0,outsidePress:a=!0,outsidePressEvent:u="pointerdown",referencePress:m=!1,referencePressEvent:f="pointerdown",ancestorScroll:x=!1,bubbles:p=!0}=t===void 0?{}:t;const y=Be(),v=kt()!=null,_=d.exports.useRef(!1);return d.exports.useEffect(()=>{if(!n||!c)return;function R(A){if(A.key==="Escape"){if(!p&&y&&we(y.nodesRef.current,s).length>0)return;i.emit("dismiss",{preventScroll:!1}),o(!1)}}function b(A){const B=_.current;if(_.current=!1,B)return;const O=Po(A);if(J(O)&&r.floating.current){var P;const S=(P=r.floating.current.ownerDocument.defaultView)!=null?P:window,w=O.scrollWidth>O.clientWidth,C=O.scrollHeight>O.clientHeight;let M=C&&A.offsetX>O.clientWidth;if(C&&S.getComputedStyle(O).direction==="rtl"&&(M=A.offsetX<=O.offsetWidth-O.clientWidth),M||w&&A.offsetY>O.clientHeight)return}const k=y&&we(y.nodesRef.current,s).some(S=>{var w;return Te(A,(w=S.context)==null?void 0:w.refs.floating.current)});Te(A,r.floating.current)||Te(A,r.domReference.current)||k||!p&&y&&we(y.nodesRef.current,s).length>0||(i.emit("dismiss",v?{preventScroll:!0}:!1),o(!1))}function g(){o(!1)}const T=K(r.floating.current);l&&T.addEventListener("keydown",R),a&&T.addEventListener(u,b);let E=[];return x&&(J(r.domReference.current)&&(E=G(r.domReference.current)),J(r.floating.current)&&(E=E.concat(G(r.floating.current))),!J(r.reference.current)&&r.reference.current&&r.reference.current.contextElement&&(E=E.concat(G(r.reference.current.contextElement)))),E=E.filter(A=>{var B;return A!==((B=T.defaultView)==null?void 0:B.visualViewport)}),E.forEach(A=>{A.addEventListener("scroll",g,{passive:!0})}),()=>{l&&T.removeEventListener("keydown",R),a&&T.removeEventListener(u,b),E.forEach(A=>{A.removeEventListener("scroll",g)})}},[l,a,u,i,y,s,n,o,x,c,p,r,v]),d.exports.useEffect(()=>{_.current=!1},[a,u]),d.exports.useMemo(()=>c?{reference:{[Mo[f]]:()=>{m&&(i.emit("dismiss"),o(!1))}},floating:{[$o[u]]:()=>{_.current=!0}}}:{},[c,i,m,u,f,o])},jo=({film:e,moneyAmount:t})=>L(z,{children:[h(ye,{children:e.year}),h(ye,{children:e.title}),L(ye,{children:["$",t.toFixed(1)," million"]})]}),Do=6,Io=20,Wo=({film:e,cx:t,cy:n,moneyAmount:o})=>{const[r,i]=d.exports.useState(!1),{x:s,y:c,reference:l,floating:a,strategy:u,context:m}=Eo({open:r,onOpenChange:i,placement:"top",whileElementsMounted:ho,middleware:[Kn(5),Yn(),Zn()]}),f=So(m,{move:!1}),x=Fo(m),p=Bo(m,{role:"tooltip"}),{getReferenceProps:y,getFloatingProps:v}=Ao([f,x,p]);return L(z,{children:[h(Qt,{innerRef:l,...y(),cx:t,cy:n,r:Do,strokeWidth:Io,stroke:"transparent"}),h(Lo,{children:r&&h(Vt,{ref:a,style:{position:u,top:c!=null?c:0,left:s!=null?s:0,width:"max-content"},sx:{bgcolor:"background.default",p:1},...v(),children:h(jo,{film:e,moneyAmount:o})})})]})},No=({xScale:e,xValue:t,yScale:n,yValue:o,films:r})=>{var i;return L("g",{children:[h(Yt,{fill:"none",pathStroke:{color:"primary",alpha:.8},d:(i=Ln().x(s=>e(t(s))).y(s=>n(o(s))).curve(kn)(r))!=null?i:""}),r.map((s,c)=>h(Wo,{film:s,cx:e(t(s)),cy:n(o(s)),moneyAmount:o(s)},c))]})},Bt=960,Mt=550,re={top:20,right:30,bottom:50,left:90},Ce=Mt-re.top-re.bottom,nt=Bt-re.right-re.left,Vo=({films:e,yValue:t})=>{const n=c=>c.year,o=Cn(e,n),r=qt(e,t)||0,i=De().domain(o).range([0,nt]),s=De().domain([0,r]).range([Ce,0]).nice();return L(gt,{width:Bt,height:Mt,translateWidth:re.left,translateHeight:re.top,children:[h(Mn,{xScale:i,innerHeight:Ce}),h(In,{yScale:s,innerWidth:nt,innerHeight:Ce}),h(No,{xScale:i,xValue:n,yScale:s,yValue:t,films:e})]})},ot=({values:e,selectedValue:t,setSelectedValue:n})=>{const{t:o}=mt();return h(Tn,{color:"primary",value:t,size:"small",exclusive:!0,onChange:(i,s)=>{s!==null&&n(s)},"aria-label":"Platform",sx:{display:"flex",flexWrap:"wrap",p:1},children:e.map((i,s)=>h(gn,{value:i,children:o(i)},s))})};var W=(e=>(e.BoxOffice="james-bond-films.common.box-office",e.Budget="james-bond-films.common.budget",e.Profit="james-bond-films.common.profit",e))(W||{}),N=(e=>(e.Actual="james-bond-films.common.actual-money",e.Adjusted="james-bond-films.common.adjusted-money",e))(N||{});const zo=e=>n=>{switch(e){case`${W.BoxOffice} ${N.Actual}`:return n.boxOfficeActual;case`${W.BoxOffice} ${N.Adjusted}`:return n.boxOfficeAdjusted;case`${W.Budget} ${N.Actual}`:return n.budgetActual;case`${W.Budget} ${N.Adjusted}`:return n.budgetAdjusted;case`${W.Profit} ${N.Actual}`:return n.boxOfficeActual-n.budgetActual;case`${W.Profit} ${N.Adjusted}`:return n.boxOfficeAdjusted-n.budgetAdjusted;default:return n.boxOfficeActual}},Ho=()=>{const[e,t]=d.exports.useState(W.BoxOffice),[n,o]=d.exports.useState(N.Actual),r=zo(`${e} ${n}`);return{timelineType:e,setTimelineType:t,moneyType:n,setMoneyType:o,yValue:r}},Uo=()=>{const[e,t,n]=wt(),{timelineType:o,setTimelineType:r,moneyType:i,setMoneyType:s,yValue:c}=Ho();return L(z,{children:[h(ot,{selectedValue:o,setSelectedValue:r,values:Object.values(W)}),h(xt,{isLoading:t,isError:n,children:h(Vo,{films:e,yValue:c})}),h(ot,{selectedValue:i,setSelectedValue:s,values:Object.values(N)})]})},Go=()=>L(z,{children:[h(it,{text:"james-bond-films.financial-timeline.subheader"}),h(vt,{caption:"james-bond-films.financial-timeline.caption",children:h(Uo,{})}),h(Z,{text:"james-bond-films.financial-timeline.first-paragraph"}),h(Z,{text:"james-bond-films.financial-timeline.second-paragraph"}),h(Z,{text:"james-bond-films.financial-timeline.third-paragraph"})]}),Xo=e=>e.map(n=>{var i;const o=n.title,r=(i=n==null?void 0:n.thumbnail)==null?void 0:i.source;return{pageTitle:o,thumbnailUrl:r}}),Qo="https://en.wikipedia.org/w/api.php?",Yo=async e=>{try{const n=`action=query&format=json&origin=*&prop=pageimages&titles=${e.join("|")}&formatversion=2&piprop=thumbnail&pithumbsize=100`,o=zt(Qo,n),r=encodeURI(o),i=await Kt(r);return Xo(i.query.pages)}catch(t){return Promise.reject(t)}},qo=(e,t)=>{const{data:n,isLoading:o,isError:r}=dt({queryKey:t,queryFn:()=>Yo(e),staleTime:1/0,cacheTime:432e5,enabled:!!e.length});return[n||[],o,r]},Ko=(e,t)=>{switch(t.type){case"changeSelectedIndex":return{...e,selectedIndex:t.index};case"switchBoxOfficeType":return{...e,boxOfficeType:t.newType};default:return{...e}}},Me={selectedIndex:0,boxOfficeType:"total"},$t=d.exports.createContext(Me.selectedIndex),Ft=d.exports.createContext({}),jt=d.exports.createContext(Me.boxOfficeType),Jo=({children:e})=>{const[t,n]=d.exports.useReducer(Ko,Me),o=d.exports.useMemo(()=>({changeSelectedIndex:s=>{n({type:"changeSelectedIndex",index:s})},switchBoxOfficeType:()=>{const s=t.boxOfficeType==="total"?"average":"total";n({type:"switchBoxOfficeType",newType:s})}}),[t.boxOfficeType]);return h(Ft.Provider,{value:o,children:h($t.Provider,{value:t.selectedIndex,children:h(jt.Provider,{value:t.boxOfficeType,children:e})})})},Dt=()=>d.exports.useContext(Ft),Zo=()=>d.exports.useContext($t),It=()=>d.exports.useContext(jt),er=({actorArcs:e,createArc:t,createLabelArc:n,colors:o,sortingKey:r})=>{const i=Zo(),s=e[i],{name:c,thumbnail:l,filmQuantity:a}=s.data;return L("g",{children:[h("circle",{r:125,fill:"transparent",stroke:o(i.toString()),strokeWidth:4}),h("image",{transform:"translate(-37.5, -100)",href:l,height:"100"}),h(oe,{transform:"translate(0, 30)",textAnchor:"middle",children:c}),L(oe,{transform:"translate(0, 60)",textAnchor:"middle",children:["Box Office: $",s.data[r].toFixed(1)," mln"]}),L(oe,{transform:"translate(0, 90)",textAnchor:"middle",children:["Films: ",a]}),h(Jt,{arc:e[i],createArc:t,createAnnotationArc:n,stroke:o(i.toString()),strokeWidth:4})]})},tr=e=>Zt(e,n=>en(n,o=>o.boxOfficeAdjusted),n=>n.bondActor).map(n=>({name:n[0],totalBoxOffice:n[1]})),nr=e=>[...tn(e,o=>o.bondActor)].map(o=>{const r=o[1].length;return{name:o[0],filmQuantity:r}}),or=(e,t)=>{var o;return((o=e.find(r=>r.name===t))==null?void 0:o.filmQuantity)||0},rr=(e,t)=>e.find(n=>n.pageTitle===t),ir=(e,t)=>t/(e||1),sr=({films:e,thumbnails:t,boxOfficeType:n})=>{const o=n==="total"?"totalBoxOffice":"averageBoxOffice";return{actors:d.exports.useMemo(()=>{const i=tr(e),s=nr(e);return i.map(l=>{var f;const a=(f=rr(t,l.name))==null?void 0:f.thumbnailUrl,u=or(s,l.name),m=ir(u,l.totalBoxOffice);return{...l,thumbnail:a,averageBoxOffice:m,filmQuantity:u}})},[]),sortingKey:o}},cr=({actorArcs:e,createArc:t,colors:n})=>{const{changeSelectedIndex:o}=Dt();return h(z,{children:e.map((r,i)=>h(nn,{arc:r,createArc:t,index:i,colors:n,onPointerDown:()=>o(i)},r.data.name))})},$e=600,Fe=500,lr=$e/Fe,ue=Math.min($e,Fe)/2,ar=ue*lr,ur=ue,fr=ue*.9,dr=ue*.8,rt=ue*.5,pr=({films:e,thumbnails:t})=>{const n=It(),{actors:o,sortingKey:r}=sr({films:e,thumbnails:t,boxOfficeType:n}),i=on("schemeOne"),s=rn(i),l=sn().value(m=>m[r]).sort((m,f)=>cn(m[r],f[r]))(o),a=Ie().innerRadius(fr).outerRadius(dr),u=Ie().innerRadius(rt).outerRadius(rt);return L(gt,{width:$e,translateWidth:ar,height:Fe,translateHeight:ur,children:[h(cr,{actorArcs:l,createArc:a,colors:s}),h(er,{actorArcs:l,createArc:a,createLabelArc:u,colors:s,sortingKey:r})]})},mr=()=>{const{t:e}=mt(),t=It(),{switchBoxOfficeType:n}=Dt();return L(ln,{row:!0,value:t,onChange:n,children:[h(We,{value:"total",control:h(Ne,{}),label:e("james-bond-films.actor-box-office.controller-total")}),h(We,{value:"average",control:h(Ne,{}),label:e("james-bond-films.actor-box-office.controller-average")})]})},hr=()=>{const[e,t,n]=wt(),o=new Set(e.map(c=>c.bondActor)),[r,i,s]=qo([...o],["jamesBondData","actorThumbnailUrls"]);return h(xt,{isLoading:t||i,isError:n||s,children:L(Jo,{children:[h(pr,{films:e,thumbnails:r}),h(mr,{})]})})},gr=()=>L(z,{children:[h(it,{text:"james-bond-films.actor-box-office.subheader"}),h(vt,{caption:"james-bond-films.actor-box-office.caption",children:h(hr,{})}),h(Z,{text:"james-bond-films.actor-box-office.first-paragraph"}),h(Z,{text:"james-bond-films.actor-box-office.second-paragraph"})]}),_r=()=>L(z,{children:[h(Wt,{headline:"james-bond-films.title"}),h(Z,{text:"james-bond-films.introduction"}),h(Z,{text:"james-bond-films.about-source"}),h(an,{link:Ht.JamesBondFilms}),h(Go,{}),h(gr,{})]});export{_r as default};
